name: Check on Push

on: [push, pull_request, workflow_dispatch]

jobs:
  compile-test:
    name: "ðŸ›  Compile & Test"
    runs-on: ubuntu-latest
    steps:
    - name: ðŸ›Ž Checkout
      uses: actions/checkout@v2
    - name: Start MongoDB
      uses: supercharge/mongodb-github-action@1.7.0
      with:
        mongodb-version: 5.0
    - name: ðŸ›  Install bloat
      run: npm i 
    - name: ðŸ›  Compile typescript
      run: tsc 
    - name: ðŸ§ª Run tests
      run: npm run test