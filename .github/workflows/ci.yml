name: Check on Push

on: [push, pull_request, workflow_dispatch]

jobs:
  compile-test:
    name: "ğŸ›  Compile & Test"
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ› Checkout
      uses: actions/checkout@v2
    - name: ğŸ›  Install MongoDB
      uses: supercharge/mongodb-github-action@1.7.0
      with:
        mongodb-version: 5.0
    - name: ğŸ›  Install bloat
      run: npm i 
    - name: ğŸ›  Compile typescript
      run: tsc 
    - name: ğŸ§ª Run tests
      run: npm run test